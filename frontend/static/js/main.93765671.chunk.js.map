{"version":3,"sources":["logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","components/InfoTooltip.js","images/infoToolTip-black.svg","images/error-simbol.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","isLoggedIn","to","values","email","onClick","handleLogOut","link","linkName","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","onDeleteCardClick","type","name","onCardClick","imagePopupOpen","onCardLike","length","Main","onEditAvatarClick","avatar","onEditProfileClick","about","onAddPlaceClick","cards","map","data","onImagePopupClick","Footer","PopupWithForm","isOpen","onClose","onSubmit","title","children","buttonTitle","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","id","minLength","maxLength","required","ImagePopup","customFetch","url","headers","fetch","then","res","ok","json","Promise","reject","statusText","api","baseUrl","this","token","method","authorization","body","JSON","stringify","profileInfo","cardId","avatarSrc","EditAvatarPopup","avatarElement","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","setValues","handleChange","onAddPlaceSubmit","Login","handleSubmitLogin","password","Register","handleSubmitRegister","ProtectedRoute","loggedIn","BASE_URL","handleResponse","status","InfoTooltip","path","message","App","history","useHistory","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","cardsData","setCardsData","setIsLoggedIn","isRegistered","setIsRegistered","toolTip","setToolTip","setToken","localStorage","getItem","auth","push","catch","err","console","log","getInitialCards","cardArray","getUserInfo","handleIsLoggedIn","handleIsRegistered","handleToolTip","closeAllPopups","closeByEscape","key","document","addEventListener","removeEventListener","Provider","exact","removeItem","cardData","item","deleteLike","newCard","likeCard","Accept","setItem","finally","successPath","failPath","newData","editProfile","serverResponse","createCard","avatarImage","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.93765671.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.918b3ff6.svg\";","import React from 'react';\r\nimport logo from '../logo.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className='header'>\r\n      <img className='header__logo' src={logo} alt='header-logo' />\r\n      <div className='header__menu'>\r\n        {props.isLoggedIn ? (\r\n          <>\r\n            <Link className='header__links' to=''>\r\n              {props.values.email}\r\n            </Link>\r\n\r\n            <Link className='header__links' to='/login' onClick={props.handleLogOut}>\r\n              Log Out\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <Link className='header__links' to={props.link}>\r\n            {props.linkName}\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n \r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n    props.imagePopupOpen();\r\n  }\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  function handleDeleteClick() {\r\n    props.onDeleteCardClick(props.card);\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <button\r\n        onClick={handleDeleteClick}\r\n        type=\"button\"\r\n        className={`element__delete ${\r\n          isOwn ? \"element__delete\" : \"element__delete_hidden\"\r\n        }`}\r\n        name=\"delete button\"\r\n      />\r\n      <img\r\n        onClick={handleClick}\r\n        className=\"element__image\"\r\n        alt={props.card.alt}\r\n        src={props.card.link}\r\n      />\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\"> {props.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            onClick={handleLikeClick}\r\n            type=\"button\"\r\n            className={`element__like-btn ${\r\n              isLiked ? \"element__like-btn_active\" : \"\"\r\n            }`}\r\n            aria-label=\"like-button\"\r\n          />\r\n          <span className=\"element__likes-count\">\r\n            {props.card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"profile\">\r\n        <button\r\n          onClick={props.onEditAvatarClick}\r\n          className=\"profile__change-avatar\"\r\n          aria-label=\"edit picture\"\r\n          name=\"edit picture\"\r\n          type=\"button\"\r\n        >\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={`${currentUser.avatar}`}\r\n            alt={`${currentUser.alt}`}\r\n          />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-top\">\r\n            <h1 className=\"profile__title\">{`${currentUser.name}`}</h1>\r\n            <button\r\n              onClick={props.onEditProfileClick}\r\n              className=\"profile__edit-btn\"\r\n              aria-label=\"edit button\"\r\n              name=\"edit button\"\r\n              type=\"button\"\r\n            />\r\n          </div>\r\n          <p className=\"profile__job\">{`${currentUser.about}`}</p>\r\n        </div>\r\n        <button\r\n          onClick={props.onAddPlaceClick}\r\n          className=\"profile__add-btn\"\r\n          aria-label=\"add button\"\r\n          name=\"add button\"\r\n          type=\"button\"\r\n        />\r\n      </div>\r\n      <div className=\"elements\">\r\n        {props.cards.map((data) => {\r\n          return (\r\n            <Card\r\n              card={data}\r\n              onCardClick={props.onCardClick}\r\n              onDeleteCardClick={props.onDeleteCardClick}\r\n              onCardLike={props.onCardLike}\r\n              key={data._id}\r\n              imagePopupOpen={props.onImagePopupClick}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">Â© 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`modal modal_type_${props.name} ${\r\n        props.isOpen && 'modal_opened'\r\n      }`}\r\n    >\r\n      <div className='modal__container'>\r\n        <button\r\n          onClick={props.onClose}\r\n          type='button'\r\n          className='modal__close-btn'\r\n          aria-label='close button'\r\n          name='close button'\r\n        />\r\n        <form className='form' name={`${props.name}`} onSubmit={props.onSubmit}>\r\n          <fieldset className='form__fieldset'>\r\n            <h2 className='form__title'>{`${props.title}`}</h2>\r\n            {props.children}\r\n            <button\r\n              type='submit'\r\n              name='submit button'\r\n              className='form__submit-btn'\r\n            >\r\n              {`${props.buttonTitle}`}\r\n            </button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React, { useState } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmitUser(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({ name, about: description });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      /* profile */\r\n      name=\"profile\"\r\n      title=\"Edit Profile\"\r\n      buttonTitle=\"save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmitUser}\r\n    >\r\n      <input\r\n        onChange={handleChangeName}\r\n        id=\"name-input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={`${name}`}\r\n        className=\"form__text-input form__text-input_type_name\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required\r\n      />\r\n      <span id=\"name-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n      <input\r\n        onChange={handleChangeDescription}\r\n        id=\"job-input\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        value={`${description}`}\r\n        className=\"form__text-input form__text-input_type_job\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        required\r\n      />\r\n      <span id=\"job-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`modal modal_type${props.name} ${\r\n        props.isOpen && \"modal_opened\" \r\n      }`}\r\n    >\r\n      <div className=\"modal__container modal__container_type_popup\">\r\n        <button\r\n          onClick={props.onClose}\r\n          type=\"button\"\r\n          className=\"modal__close-btn\"\r\n          aria-label=\"close button popup\"\r\n          name=\"popup close button\"\r\n        />\r\n        <img\r\n          className=\"modal__img\"\r\n          alt={props.card.name}\r\n          src={props.card.link}\r\n        />\r\n        <h2 className=\"modal__title\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","// const customFetch = (url, headers) =>\r\n//   fetch(url, headers).then((res) =>\r\n//     res.ok ? res.json() : Promise.reject(res.statusText)\r\n//   );\r\n\r\n// class Api {\r\n//   constructor({ baseUrl, headers }) {\r\n//     this.baseUrl = baseUrl;\r\n//     this.headers = headers;\r\n//   }\r\n\r\n//   getInitialCards() {\r\n//     return customFetch(`${this.baseUrl}/cards`, {\r\n//       method: \"GET\",\r\n//       headers: this.headers,\r\n//     });\r\n//   }\r\n\r\n//   getUserInfo() {\r\n//     return customFetch(`${this.baseUrl}/users/me`, {\r\n//       method: \"GET\",\r\n//       headers: this.headers,\r\n//     });\r\n//   }\r\n\r\n//   createCard(data) {\r\n//     return customFetch(`${this.baseUrl}/cards`, {\r\n//       headers: this.headers,\r\n//       method: \"POST\",\r\n//       body: JSON.stringify(data),\r\n//     });\r\n//   }\r\n\r\n//   editProfile(profileInfo) {\r\n//     return customFetch(`${this.baseUrl}/users/me`, {\r\n//       headers: this.headers,\r\n//       method: \"PATCH\",\r\n//       body: JSON.stringify(profileInfo),\r\n//     });\r\n//   }\r\n\r\n//   deleteCard(cardId) {\r\n//     return customFetch(`${this.baseUrl}/cards/${cardId}`, {\r\n//       headers: this.headers,\r\n//       method: \"DELETE\",\r\n//     });\r\n//   }\r\n\r\n//   likeCard(cardId) {\r\n//     return customFetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n//       headers: this.headers,\r\n//       method: \"PUT\",\r\n//     });\r\n//   }\r\n\r\n//   deleteLike(cardId) {\r\n//     return customFetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n//       headers: this.headers,\r\n//       method: \"DELETE\",\r\n//     });\r\n//   }\r\n\r\n//   avatarImage(avatarSrc) {\r\n//     return customFetch(`${this.baseUrl}/users/me/avatar`, {\r\n//       headers: this.headers,\r\n//       method: \"PATCH\",\r\n//       body: JSON.stringify(avatarSrc),\r\n//     });\r\n//   }\r\n// }\r\n\r\n// export const api = new Api({\r\n//   baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n//   headers: {\r\n//     authorization: \"c1447c07-9b09-4ed7-9490-5ede153a83d9\",\r\n//     \"Content-Type\": \"application/json\",\r\n//   },\r\n// });\r\n\r\n// export default api;\r\n\r\nconst customFetch = (url, headers) =>\r\n  fetch(url, headers).then((res) =>\r\n    res.ok ? res.json() : Promise.reject(res.statusText)\r\n  );\r\n\r\nclass Api {\r\n  constructor({ baseUrl }) {\r\n    this.baseUrl = baseUrl;\r\n  }\r\n\r\n  getInitialCards(token) {\r\n    return customFetch(`${this.baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n\r\n  getUserInfo(token) {\r\n    return customFetch(`${this.baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n\r\n  createCard(data, token) {\r\n    return customFetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  editProfile(profileInfo, token) {\r\n    return customFetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(profileInfo),\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId,token) {\r\n    return customFetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n\r\n  likeCard(cardId, token) {\r\n    return customFetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteLike(cardId, token) {\r\n    return customFetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n\r\n  avatarImage(avatarSrc, token) {\r\n    return customFetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(avatarSrc),\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://api.gal717358.students.nomoreparties.site\",\r\n\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useRef } from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarElement = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({avatar:avatarElement.current.value});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      /* change avatar */\r\n      name=\"change-picture\"\r\n      title=\"Change profile picture\"\r\n      buttonTitle=\"Save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={avatarElement}\r\n        id=\"change-picture-input\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        className=\"form__text-input form__text-input_type_change-picture\"\r\n        placeholder=\"profile Url\"\r\n        required\r\n      />\r\n      <span id=\"change-picture-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [values, setValues] = React.useState({ name: '', link: '' });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  function handleSubmitAddPlace(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlaceSubmit({\r\n      name: values.name,\r\n      link: values.link,\r\n    });\r\n  }\r\n  React.useEffect(() => setValues({ name: '', link: '' }), [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      /* Add Ele,emt */\r\n      name='add-element'\r\n      title='New place'\r\n      buttonTitle='Create'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmitAddPlace}\r\n    >\r\n      <input\r\n        value={values.name}\r\n        id='name-element-input'\r\n        type='text'\r\n        name='name'\r\n        className='form__text-input form__text-input_type_name-element'\r\n        placeholder='Title'\r\n        minLength={1}\r\n        maxLength={30}\r\n        required\r\n        onChange={handleChange}\r\n      />\r\n      <span id='name-element-input-error' className='form__input-error'>\r\n        {' '}\r\n      </span>\r\n      <input\r\n        value={values.link}\r\n        id='img-element-input'\r\n        type='url'\r\n        name='link'\r\n        className='form__text-input form__text-input_type_img-element'\r\n        placeholder='Image Url'\r\n        required\r\n        onChange={handleChange}\r\n      />\r\n      <span id='img-element-input-error' className='form__input-error'>\r\n        {' '}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n  return (\r\n    <div className='form__user_container'>\r\n      <form\r\n        className='form form__user form__user-login'\r\n        onSubmit={props.handleSubmitLogin}\r\n      >\r\n        <fieldset className='form__fieldset'>\r\n          <h1 className='form__title-user'>Log in</h1>\r\n          <input\r\n            value={props.values.email}\r\n            id='name-login-input'\r\n            type='text'\r\n            name='email'\r\n            className='form__text-input-user'\r\n            placeholder='Username'\r\n            minLength={2}\r\n            maxLength={30}\r\n            required\r\n            onChange={props.handleChange}\r\n          />\r\n          <input\r\n            value={props.values.password}\r\n            id='name-password-input'\r\n            type='password'\r\n            name='password'\r\n            className='form__text-input-user'\r\n            placeholder='password'\r\n            minLength={2}\r\n            maxLength={30}\r\n            required\r\n            onChange={props.handleChange}\r\n          />\r\n          <button\r\n            type='submit'\r\n            name='login submit button'\r\n            className='form__submit-user'\r\n          >\r\n            Login\r\n          </button>\r\n        </fieldset>\r\n      </form>\r\n      <div className='form__register__signin'>\r\n        <p className='register__login_sub-link'>\r\n          Not a member yet?\r\n          <Link to='/register' className='register__login_link'>\r\n            Sign up here!\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  return (\r\n    <div className='form__user_container'>\r\n      <form\r\n        className='form form__user form__user-login'\r\n        onSubmit={props.handleSubmitRegister}\r\n      >\r\n        <fieldset className='form__fieldset'>\r\n          <h1 className='form__title-user'>Register</h1>\r\n          <input\r\n            value={props.values.email}\r\n            id='name-register-input'\r\n            type='text'\r\n            name='email'\r\n            className='form__text-input-user'\r\n            placeholder='Username'\r\n            minLength={2}\r\n            maxLength={30}\r\n            required\r\n            onChange={props.handleChange}\r\n          />\r\n          <input\r\n            value={props.values.password}\r\n            id='name-password-input'\r\n            type='password'\r\n            name='password'\r\n            className='form__text-input-user'\r\n            placeholder='password'\r\n            minLength={2}\r\n            maxLength={30}\r\n            required\r\n            onChange={props.handleChange}\r\n          />\r\n          <button\r\n            type='submit'\r\n            name='login-submit-button'\r\n            className='form__submit-user'\r\n          >\r\n            Register\r\n          </button>\r\n        </fieldset>\r\n      </form>\r\n      <div className='form__register__signin'>\r\n        <p className='register__login_sub-link'>\r\n          Not a member yet?\r\n          <Link to='/login' className='register__login_link'>\r\n            Log in here!\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, loggedIn, ...props }) => {\r\n  return (\r\n    <Route {...props}>\r\n      {() => (props.isLoggedIn ? children : <Redirect to={'./login'} />)}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export const BASE_URL = 'https://api.gal717358.students.nomoreparties.site';\r\n\r\nconst handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`${res.status}`);\r\n};\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => handleResponse(res));\r\n};\r\n\r\nexport const login = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .then((data) => {\r\n      localStorage.setItem('token', data.token)\r\n      return data;\r\n    });\r\n    \r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n};\r\n","function InfoTooltip(props) {\r\n  return (\r\n    <div\r\n      className={`modal modal_type_${props.name} ${props.isOpen && 'modal_opened'}`}\r\n    >\r\n      <div className='modal__container'>\r\n      <button\r\n        onClick={props.onClose}\r\n        type='button'\r\n        className='modal__close-btn'\r\n        aria-label='close button'\r\n        name='close button'\r\n      />\r\n        <img className='modal__infoToolTip_image'  src={props.path} alt='info-toolTip' />\r\n        <h1 className='modal__infoToolTip_title'>\r\n          {props.message}\r\n        </h1>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/infoToolTip-black.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/error-simbol.d4ce2a26.svg\";","import Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport { useState, useEffect } from 'react';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport Login from './Login.js';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport * as auth from '../utils/auth';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport successPath from '../images/infoToolTip-black.svg';\r\nimport failPath from '../images/error-simbol.svg';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cardsData, setCardsData] = useState([]);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isRegistered, setIsRegistered] = useState(false);\r\n  const [toolTip, setToolTip] = useState(false);\r\n  const [token, setToken] = useState();\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  //logout\r\n  const handleLogOut = (e) => {\r\n    e.preventDefault();\r\n    if (localStorage.getItem('token')) {\r\n      localStorage.removeItem('token');\r\n      setIsLoggedIn(false);\r\n    }\r\n  };\r\n  // register\r\n\r\n  const handleSubmitRegister = (e) => {\r\n    e.preventDefault();\r\n\r\n    auth\r\n      .register(values)\r\n      .then(() => {\r\n        handleIsRegistered();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`...Error: ${err.message}`);\r\n      })\r\n      .finally(() => handleToolTip());\r\n  };\r\n\r\n  //login\r\n  const handleSubmitLogin = (e) => {\r\n    e.preventDefault();\r\n    if (!values.email || !values.password) {\r\n      return;\r\n    }\r\n    auth\r\n      .login(values)\r\n      .then((data) => {\r\n        const token = data.token;\r\n        setToken(token);\r\n        handleIsLoggedIn();\r\n        history.push('/');\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        auth\r\n          .checkToken(token)\r\n          .then(() => {\r\n            setToken(token);\r\n            setIsLoggedIn(true);\r\n            history.push('/');\r\n          })\r\n          .catch((err) => {\r\n            console.log(`...Error: ${err}`);\r\n          });\r\n      }\r\n    }\r\n  }, [history]);\r\n\r\n  //handleChanges\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  function handleCardLike(cardData) {\r\n    if (token) {\r\n      const isLiked = cardData.likes.some(\r\n        (item) => item._id === currentUser._id,\r\n      );\r\n      if (!isLiked)\r\n        api\r\n          .likeCard(cardData._id, token)\r\n          .then((newCard) => {\r\n            setCardsData((cards) =>\r\n              cards.map((card) => (card._id === cardData._id ? newCard : card)),\r\n            );\r\n          })\r\n          .catch((err) => console.log(`${err}`));\r\n      else\r\n        api\r\n          .deleteLike(cardData._id, token)\r\n          .then((newCard) => {\r\n            setCardsData((cards) =>\r\n              cards.map((card) => (card._id === cardData._id ? newCard : card)),\r\n            );\r\n          })\r\n          .catch((err) => console.log(`${err}`));\r\n    }\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    if (token) {\r\n      api\r\n        .deleteCard(selectedCard._id, token)\r\n        .then(() => {\r\n          setCardsData((cards) =>\r\n            cards.filter((card) => card._id !== selectedCard._id),\r\n          );\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(`${err}`));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      api\r\n        .getInitialCards(token)\r\n        .then((cardArray) => {\r\n          return setCardsData(cardArray);\r\n        })\r\n        .catch((err) => console.log(`${err}`));\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      api\r\n        .getUserInfo(token)\r\n        .then((res) => {\r\n          const userData = res;\r\n          setCurrentUser(userData);\r\n        })\r\n        .catch((err) => console.log(`${err}`));\r\n    }\r\n  }, [token]);\r\n\r\n  const handleIsLoggedIn = () => {\r\n    setIsLoggedIn(true);\r\n  };\r\n  const handleIsRegistered = () => {\r\n    setIsRegistered(true);\r\n  };\r\n  const handleDeleteClick = (e) => {\r\n    e.preventDefault();\r\n    handleCardDelete(selectedCard._id);\r\n  };\r\n\r\n  const handleToolTip = () => {\r\n    setToolTip(true);\r\n  };\r\n\r\n  const imagePopupOpen = () => {\r\n    setIsImagePopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (props) => {\r\n    setSelectedCard(props);\r\n  };\r\n\r\n  const handleDeleteCardClick = (card) => {\r\n    setIsDeletePopupOpen(true);\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n  function toolTipClose() {\r\n    setToolTip(false);\r\n    history.push('/login');\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setToolTip(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', closeByEscape);\r\n\r\n    return () => document.removeEventListener('keydown', closeByEscape);\r\n  }, []);\r\n\r\n  const handleUpdateUser = (newData) => {\r\n    if (token) {\r\n      api\r\n        .editProfile(newData, token)\r\n        .then((serverResponse) => {\r\n          return setCurrentUser(serverResponse);\r\n        })\r\n        .then(() => {\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(`${err}`));\r\n    }\r\n  };\r\n\r\n  const handleUpdateAvatar = (newData) => {\r\n    if (token) {\r\n      api\r\n        .avatarImage(newData, token)\r\n        .then((serverResponse) => {\r\n          return setCurrentUser(serverResponse);\r\n        })\r\n        .then(() => {\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(`${err}`));\r\n    }\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (newCard) => {\r\n    if (token) {\r\n      api\r\n        .createCard(newCard, token)\r\n        .then((res) => {\r\n          console.log('createUSer', token);\r\n          return setCardsData([res, ...cardsData]);\r\n        })\r\n        .then(() => {\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(`${err}`));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='page'>\r\n      <div className='page__container'>\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Switch>\r\n            <ProtectedRoute exact path='/' isLoggedIn={isLoggedIn}>\r\n              <Header\r\n                values={values}\r\n                isLoggedIn={isLoggedIn}\r\n                handleLogOut={handleLogOut}\r\n              />\r\n              <Main\r\n                onEditAvatarClick={handleEditAvatarClick}\r\n                onEditProfileClick={handleEditProfileClick}\r\n                onAddPlaceClick={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                onImagePopupClick={imagePopupOpen}\r\n                onDeleteCardClick={handleDeleteCardClick}\r\n                cards={cardsData}\r\n                onCardLike={handleCardLike}\r\n              />\r\n            </ProtectedRoute>\r\n\r\n            <Route path='/login'>\r\n              <Header\r\n                values={values}\r\n                isLoggedIn={isLoggedIn}\r\n                link='/register'\r\n                linkName='Sign Up'\r\n              />\r\n              <Login\r\n                handleSubmitLogin={handleSubmitLogin}\r\n                values={values}\r\n                handleChange={handleChange}\r\n              />\r\n            </Route>\r\n            <Route path='/register'>\r\n              <Header\r\n                values={values}\r\n                isLoggedIn={isLoggedIn}\r\n                link='/login'\r\n                linkName='Sign in'\r\n              />\r\n              <Register\r\n                values={values}\r\n                handleSubmitRegister={handleSubmitRegister}\r\n                handleChange={handleChange}\r\n              />\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          <InfoTooltip\r\n            name='infoToolTip'\r\n            message={\r\n              isRegistered\r\n                ? 'Success! You have now been logged in.'\r\n                : 'Oops, something went wrong! Please try again.'\r\n            }\r\n            path={isRegistered ? successPath : failPath}\r\n            isOpen={toolTip}\r\n            handleToolTip={handleToolTip}\r\n            onClose={isRegistered ? toolTipClose : closeAllPopups}\r\n          />\r\n\r\n          <ImagePopup\r\n            name='pop-up'\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n            card={selectedCard}\r\n          />\r\n\r\n          <EditProfilePopup\r\n            /* profile */\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            /* Add Element */\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlaceSubmit={handleAddPlaceSubmit}\r\n            handleChange={handleChange}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            /* change avatar */\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <PopupWithForm\r\n            /* delete */\r\n            name='delete-card'\r\n            title='Are you sure?'\r\n            buttonTitle='Yes'\r\n            isOpen={isDeletePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onSubmit={handleDeleteClick}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}